<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÍπÄÏÑ†Í≤Ω - ÏûêÌåêÍ∏∞ ÌîÑÎ°úÍ∑∏Îû®</title>
    <!-- head ÏïàÏóê Ï∂îÍ∞Ä -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css" />
    <style>
        /* reset */
        * {
            margin: 0;
            padding: 0;
            font-family: 'Pretendard Variable', sans-serif;
            font-size: 14px; 
            box-sizing: border-box;
        }
        html,
        body {
            overflow-y: auto;
        }
        body {
            padding: 15px;
            color: #f0f0f0;
            background-color: #1e1e2f;
        }
        button {
            border: none;
            cursor: pointer;
            outline: none;
        }

        /* layout */
        #wrap {
            max-width: 600px;
            margin: 0 auto;
            background-color: #2c2c3e;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.25);
        }
        #header {
            padding: 18px 0;
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            color: #ffffff;
            background-color: #3b3b54;
            letter-spacing: 0.5px;
        }

        /* ui */
        .sec {
            padding: 20px 16px;
            text-align: center;
            border-top: 1px solid #444;
        }
        .sec-tit {
            margin-bottom: 16px;
            font-size: 1.1rem;
            text-align: center;
            color: #ffffff;
        }
        .sec-item + .sec-item {
            margin-top: 20px;
        }

        /* group */
        .group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            width: 100%;
        }

        /* form */
        input {
            padding: 8px 10px;
            width: 140px;
            border: 1px solid #666;
            font-size: 0.9rem;
            color: #222;
            border-radius: 4px;
            background-color: #fff;
        }
        input::placeholder {
            color: #888;
            font-size: 0.85rem;
        }
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox  */
        input[type='number'] {
            -moz-appearance: textfield;
        }

        /* btn */
        #container button {
            padding: 10px 18px;
            font-size: 0.9rem;
            border-radius: 8px;
            color: #f8f8f2;
            background-color: #44475a;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            transition: 0.2s ease;
        }
        #container button:hover {
            background-color: #5a5e76;
        }
        .btn {
            width: 100%;
        }

        /* table */
        .table {
            width: 100%;
            margin-top: 16px;
            font-size: 0.9rem;
            color: #f8f8f8;
            border-collapse: collapse;
            background-color: #1e1e2f;
        }
        .table th,
        .table td {
            padding: 8px 10px;
            border: 1px solid #3e3e5c;
            text-align: center;
        }
        .table thead {
            font-weight: 600;
            background-color: #3a3a52;
        }
        .table tbody tr:nth-child(even) {
            background-color: #2a2a40;
        }
        .table button {
            padding: 5px 10px;
            font-size: 0.8rem;
            border-radius: 4px;
            background-color: #6272a4;
        }
        .table button:hover {
            background-color: #7083c2;
        }
        .btn-save {
            display: none;
            margin-top: 10px;
        }
        input[name="stock-input"] {
            width: 70px;
            text-align: center;
        }

        /* Ï†úÌíà Ï∂îÍ∞Ä Ìèº */
        .add-product {
            display: none;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            padding-top: 15px;
            border-top: 1px solid #444;
        }
        .add-product input {
            width: 100%;
            color: #fff;
            background-color: #1e1e2f;
        }

        /* Ïà®ÍπÄ Ï≤òÎ¶¨ */
        .hidden {
            display: none !important;
        }

        /* ÌåùÏóÖ */
        .pop {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .pop-inner {
            position: relative;
            width: 100%;
            max-width: 400px;
            padding: 30px 24px;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            color: #333;
        }
        .pop-close {
            position: absolute;
            top: -30px;
            right: 0;
            width: 30px;
            height: 30px;
            color: #fff;
            font-size: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
        }
        .pop-close svg {
            width: 100%;
            height: 100%;
        }
        .pop-title {
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }
        .pop-txt {
            font-size: 12px;
            color: #666;
        }
        .pop-inner input {
            border: 1px solid #ddd;
            transition: border-color 0.2s;
        }
        .pop-inner input:focus {
            border-color: #007bff;
        }
        .pop-inner .btn {
            width: 100px;
            padding: 8px 4px;
            background-color: #007bff;
            color: white;
            border-radius: 4px;
            transition: opacity 0.2s;
        }
        .pop-inner .btn:hover {
            opacity: 0.8;
        }
        .pop-footer {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        .pop-footer .btn-cancel {
            background-color: #6c757d;
            color: #fff;
        }

        /* ÏùåÎ£å ÏÑ†ÌÉù */
        .state-box {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        .state-box dt {
            display: flex;
            align-items: center;
            gap: 3px;
            width: 72px;
            font-weight: bold;
        }
        .state-box dt::before {
            content: "-";
        }
        .state-boxr dt::after {
            content: ":";
        }
        .state-box dd {
            width: calc(100% - 72px - 6px);
        }
        .pop-form {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .pop-form input {
            flex: 1;
            text-align: center;
        }
        .pop-form label {
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
        }
        .pop-form .btn-apply {
            width: 100px;
        }
        .pop-result {
            margin-top: 20px;
            text-align: center;
            color: #666;
        }


        /* Ïû¨Í≥† Î≥ÄÍ≤Ω */
        .pop[data-pop="pop-prod"] .pop-inner {
            max-width: 600px;
        }
        .add-form {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2px;
            margin-top: 10px;
        }
        .add-form input {
            width: calc(100% - 2px);
        }


        /* ÏàòÏùµ Î≥¥Í∏∞ */
        .list {
            max-height: 300px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .list-item strong {
            flex: 1;
            font-weight: 500;
        }
        .list + .list {
            padding-top: 20px;
            border-top: 2px solid #222;
            font-size: 20px;
        }
        .list + .list .list-item {
            border-bottom: 0;
            font-weight: 700;
        }
        .list + .list span {
            font-size: 18px;
        }
        .list + .list .list-item strong {
            font-size: 18px;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <header id="header">ÏûêÌåêÍ∏∞ ÌîÑÎ°úÍ∑∏Îû®</header>
        <main id="container">
            <!-- Î©îÏù∏ Î©îÎâ¥ ÏÑ†ÌÉù ÌôîÎ©¥ -->
            <section class="sec" data-section="main">
                <h2 class="sec-tit">Î©îÏù∏ Î©îÎâ¥</h2>
                <div class="group">
                    <button class="btn btn-mode" data-mode="user" onclick="goSection('user');">üë∑üèª ÏÇ¨Ïö©Ïûê</button>
                    <button class="btn btn-mode" data-mode="admin" onclick="goSection('admin');">‚öôÔ∏è Í¥ÄÎ¶¨Ïûê</button>
                </div>
            </section>

            <!-- ÏÇ¨Ïö©Ïûê Î©îÎâ¥ -->
            <section class="sec hidden" data-section="user">
                <h2 class="sec-tit">üë∑üèª ÏÇ¨Ïö©Ïûê - ÏùåÎ£å ÏÑ†ÌÉù</h2>
                <div class="group">
                    <div id="card-group" class="group">
                        <!-- innerHTML ui.js renderUserList(); -->
                    </div>
                    <button class="btn btn-back" onclick="goSection('main');">‚Ü©Ô∏è Î©îÏù∏ÏúºÎ°ú</button>
                </div>
            </section>

            <!-- Í¥ÄÎ¶¨Ïûê Î©îÎâ¥ -->
            <section class="sec hidden" data-section="admin">
                <h2 class="sec-tit">‚öôÔ∏è Í¥ÄÎ¶¨Ïûê</h2>
                <div class="group">
                    <button class="btn btn-admin" data-admin="stock" onclick="renderStockPop();">Ïû¨Í≥† Î≥ÄÍ≤Ω</button>
                    <button class="btn btn-admin" data-admin="product" onclick="renderProdPop();">Ï†úÌíà Î≥ÄÍ≤Ω</button>
                    <button class="btn btn-admin" data-admin="profit" onclick="renderRevenue();">ÏàòÏùµ Î≥¥Í∏∞</button>
                    <button class="btn btn-back" onclick="goSection('main');">‚Ü©Ô∏è Î©îÏù∏ÏúºÎ°ú</button>
                </div>
                <table class="table">
                    <thead data-id="table-thead">
                        <tr>
                            <th>Î≤àÌò∏</th>
                            <th>Ï†úÌíàÎ™Ö</th>
                            <th>Í∞ÄÍ≤©</th>
                            <th>Ïû¨Í≥†</th>
                        </tr>
                    </thead>
                    <tbody data-id="table-tbody">
                        <!-- innerHTML ui.js renderTable() -->
                    </tbody>
                </table>
                <button type="button" class="btn-save" onclick="saveStock();">Ï†ÄÏû•</button>
                <div class="add-product">
                    <input type="text" placeholder="Ï†úÌíàÎ™Ö" id="product-name" name="" aria-label="Ï†úÌíàÎ™Ö" />
                    <input type="number" placeholder="Í∞ÄÍ≤©" id="product-price" name="" aria-label="Í∞ÄÍ≤©" />
                    <input type="number" placeholder="Ïû¨Í≥†" id="product-stock" name="" aria-label="Ïû¨Í≥†" />
                    <button class="btn btn-add" onclick="addProd();">Ï∂îÍ∞Ä</button>
                </div>
            </section>

        </main>
    </div>

    <!-- ÏùåÎ£å ÏÑ†ÌÉù ÌåùÏóÖ -->
    <div class="pop" data-pop="pop-buy">
        <div class="pop-inner">
            <button type="button" class="pop-close" onclick="closeBuyPop();">‚úñ</button>
            <h3 class="pop-title">ÏùåÎ£å ÏÑ†ÌÉù</h3>
            <dl id="state-box" class="state-box">
                <!--- innerHTML ui.js currentState(); -->
            </dl>
            <div class="pop-form">
                <label for="prod-count">Í∞úÏàò ÏÑ†ÌÉù</label>
                <input type="number" id="prod-count" name="prod-count" min="1" />
            </div>
            <p class="pop-result" id="prod-result"></p>
            <div class="pop-footer">
                <button type="button" class="btn btn-confirm" onclick="buyProd();">Íµ¨Îß§</button>
            </div>
            
        </div>
    </div>

    <!-- Ïû¨Í≥† Î≥ÄÍ≤Ω ÌåùÏóÖ -->
    <div class="pop" data-pop="pop-stock">
        <div class="pop-inner">
            <button type="button" class="pop-close" onclick="hidePop();">‚úñ</button>
            <h3 class="pop-title">Ïû¨Í≥† Î≥ÄÍ≤Ω</h3>
            <dl id="stock-box" class="list">
                <!-- innerHTML ui.js renderStockPop() -->
            </dl>
            <div class="pop-footer">
                <button type="button" class="btn btn-confirm" onclick="saveStockPop();">Î≥ÄÍ≤Ω</button>
            </div>
        </div>
    </div>

    <!-- Ï†úÌíà Î≥ÄÍ≤Ω ÌåùÏóÖ -->
    <div class="pop" data-pop="pop-prod">
        <div class="pop-inner">
            <button type="button" class="pop-close" onclick="hidePop();">‚úñ</button>
            <h3 class="pop-title">Ï†úÌíà Î≥ÄÍ≤Ω</h3>
            <table class="table" id="prod-table">
                <thead data-id="table-thead">
                    <tr>
                        <th>Î≤àÌò∏</th>
                        <th>Ï†úÌíàÎ™Ö</th>
                        <th>Í∞ÄÍ≤©</th>
                        <th>Ïû¨Í≥†</th>
                        <th>ÏÇ≠Ï†ú</th>
                    </tr>
                </thead>
                <tbody data-id="table-tbody">
                    <!-- innerHTML ui.js renderProdPop() -->
                </tbody>
            </table>
            <div class="add-form" id="add-form">
                <div class="prod-name">
                    <input type="text" id="" name="" placeholder="Ï†úÌíàÎ™Ö" />
                </div>
                <div class="prod-stock">
                    <input type="text" id="" name="" placeholder="Í∞ÄÍ≤©" />
                </div>
                <div class="prod-revenue">
                    <input type="text" id="" name="" placeholder="Ïû¨Í≥†" />
                </div>
                <button type="button" class="btn" onclick="addProd();">Ï∂îÍ∞Ä</button>
            </div>
        </div>
    </div>

    <!-- ÏàòÏùµ Î≥¥Í∏∞ ÌåùÏóÖ -->
    <div class="pop" data-pop="pop-revenue">
        <div class="pop-inner">
            <button type="button" class="pop-close" onclick="hidePop();">‚úñ</button>
            <h3 class="pop-title">ÏàòÏùµ Î≥¥Í∏∞</h3>
            <div id="rev-box" class="list">
                <!-- innerHTML ui.js renderRevenue() -->
            </div>
            <div id="total" class="list">
                <!-- innerHTML ui.js renderRevenue() -->
            </div>
        </div>
    </div>
</body>
<script>
// ÏÑπÏÖò Ïù¥Îèô
function goSection(sectionName) {
    const section = document.querySelectorAll('.sec');
    section.forEach((item) => {
        item.classList.add('hidden');
    })
    document.querySelector(`[data-section="${sectionName}"]`).classList.remove('hidden');

    if (sectionName === 'admin') renderTable();
    if (sectionName === 'user') renderUserList();
}

// Í≥µÌÜµ ÌåùÏóÖ
function showPop(popName,) {
    document.querySelector(`[data-pop="${popName}"]`).style.display = 'flex';
    document.querySelector('html, body').style.overflowY = 'hidden';
}
function hidePop() {
    const pop = document.querySelectorAll('.pop');
    pop.forEach(item => item.style.display = 'none');
    document.querySelector('html, body').style.overflowY = 'auto';
}

// Ï†úÌíà Î™©Î°ù
let products = [
    { id: 1, name: "ÏΩúÎùº", price: 1000, stock: 100, revenue: 0},
    { id: 2, name: "ÏÇ¨Ïù¥Îã§", price: 1000, stock: 100, revenue: 0},
    { id: 3, name: "Ïõ∞ÏπòÏä§", price: 2000, stock: 50, revenue: 0},
    { id: 4, name: "Ìï´ÏãùÏä§", price: 2000, stock: 30, revenue: 0},
    { id: 5, name: "ÌóõÍ∞úÏàò", price: 2000, stock: 10, revenue: 0},
];
console.log(products);

/**
 * user 
 */
function renderUserList() {
    const div = document.querySelector('#card-group');
    div.innerHTML = ''; // Î≤ÑÌäºÎì§ Ï¥àÍ∏∞Ìôî
    products.forEach((item) => {
        div.innerHTML += `
            <button class="btn btn-drink" data-id="${item.id}" onclick="selectProd(this)">
                ${item.name}
            </button>
        `;
    });
}
// ÏùåÎ£å ÏÑ†ÌÉù
function selectProd(ele) {
    showPop('pop-buy');
    const id = ele.getAttribute('data-id');
    currentState(id);
}

// ÏùåÎ£å ÏÑ†ÌÉù ÌåùÏóÖ > ÏÉÅÏÑ∏ ÎÇ¥Ïö© ÎøåÎ¶¨Í∏∞
let currentProdId = '';
function currentState(target) {
    const id = Number(target); // Î¨∏ÏûêÏó¥Î°ú Î∞õÏùÄ Ïù∏ÏûêÍ∞í Ïà´ÏûêÎ°ú Î≥ÄÌôò
    const selected = products.find(p => p.id === id); // products Î∞∞Ïó¥ÏóêÏÑú id ÏùºÏπòÌïòÎäî Ï†úÌíà Ï∞æÍ∏∞
    document.querySelector('#state-box').innerHTML = `
        <dt>ÏÑ†ÌÉù ÏùåÎ£å</dt>
        <dd>${selected.name}</dd>
        <dt>Í∞úÎãπ Í∏àÏï°</dt>
        <dd>${selected.price.toLocaleString()}Ïõê</dd>
        <dt>ÌòÑÏû¨ Ïû¨Í≥†</dt>
        <dd id="prod-stock">${selected.stock}</dd>
    `;
    currentProdId = selected;
}

// ÏùåÎ£å ÏÑ†ÌÉù ÌåùÏóÖ > Ï†ÄÏû•
let input = document.querySelector('#prod-count');
function buyProd() {
    let inputValue = input.value;
    let isValid = true;

    if (inputValue.trim().length === 0) {
        alert('Í∞úÏàòÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.');
        isValid = false;
    } else if (currentProdId.stock < inputValue) {
        alert(`‚ö†Ô∏è Ïû¨Í≥† Î∂ÄÏ°± - ÌòÑÏû¨ ${currentProdId.name} Ïû¨Í≥†Îäî ${currentProdId.stock}Í∞úÏûÖÎãàÎã§.`);
        isValid = false;
    }

    if (isValid) {
        document.querySelector('#prod-result').textContent = `
            ${currentProdId.name} ${inputValue}Í∞úÍ∞Ä ÌåêÎß§ÎêòÏóàÏäµÎãàÎã§.
            (${(currentProdId.price * inputValue).toLocaleString()}Ïõê)`;
        document.querySelector('#state-box #prod-stock').style.color = '#007bff';
        document.querySelector('#state-box #prod-stock').textContent = currentProdId.stock - Number(inputValue);
        currentProdId.stock -= Number(inputValue);
        currentProdId.revenue += currentProdId.price * inputValue;

        input.value = '';
        input.focus();
        console.log('result', products);
    }
    console.log('ÏàòÏùµ', currentProdId.revenue);
}
function closeBuyPop() {
    hidePop();
    if (!(input.value.trim().length === 0)) {
        document.querySelector('#prod-count').value = '';
        document.querySelector('#prod-result').textContent = '';
        document.querySelector('#state-box #prod-stock').style.color = '';
    }
}


/**
 * Í¥ÄÎ¶¨Ïûê 
 */
// ÌÖåÏù¥Î∏î ÎøåÎ¶¨Í∏∞
function renderTable() {
    const tbody = document.querySelector('[data-id="table-tbody"]');
    tbody.innerHTML = '';

    // Í∞Å productÎßàÎã§ tr Ï∂îÍ∞Ä
    products.forEach((item, idx) => {
        tbody.innerHTML += `
            <tr>
                <td>${idx + 1}</td>
                <td>${item.name}</td> 
                <td>${item.price.toLocaleString()}Ïõê</td>
                <td data-id="td-stock-${idx}">${item.stock}</td>
            </tr>
        `;
    });
}

// 1. Ïû¨Í≥† Î≥ÄÍ≤Ω ÌåùÏóÖ
function renderStockPop() {
    const popStock = document.querySelector('#stock-box');
    let html = '';
    products.forEach((item, idx) => {
        html += `
            <div class="list-item">
                <strong>${item.name}</strong>
                <input type="number" id="stock-input-${idx}" value="${item.stock}" />
            </div>
        `;
    });
    popStock.innerHTML = html;
    showPop('pop-stock');   
}

// 1. Ïû¨Í≥† Î≥ÄÍ≤Ω ÌåùÏóÖ > Ï†ÄÏû•
function saveStockPop() {
    products.forEach((item, idx) => {
        const input = document.querySelector(`#stock-input-${idx}`);
        const newValue = Number(input.value);
        if (!isNaN(newValue) && newValue >= 0) {
        item.stock = newValue;
        }
    });
    renderTable();
    hidePop();
}

// 2. Ï†úÌíà Î≥ÄÍ≤Ω ÌåùÏóÖ > ÌÖåÏù¥Î∏î ÎøåÎ¶¨Í∏∞
function renderPopupTable() {
    const tbody = document.querySelector('.pop [data-id="table-tbody"]');
    tbody.innerHTML = '';

    products.forEach((item, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${idx + 1}</td>
            <td>${item.name}</td>
            <td>${item.price.toLocaleString()}Ïõê</td>
            <td>${item.stock}</td>
            <td><button type="button" id="" onclick="removeProd(this)";>ÏÇ≠Ï†ú</button></td>
        `;
        tbody.appendChild(tr);
    });
}

// 2. Ï†úÌíà Î≥ÄÍ≤Ω ÌåùÏóÖ > ÎûúÎî©
function renderProdPop() {
    showPop('pop-prod');
    renderPopupTable();
}

// 2. Ï†úÌíà Î≥ÄÍ≤Ω ÌåùÏóÖ > Ï∂îÍ∞Ä
function addProd() {
    if (!(products.length >= 5)) {
        const inputs = document.querySelectorAll('#add-form input');

        // input Í∞íÏùÑ Î∞∞Ïó¥Î°ú Ï∂îÏ∂úÌï¥ÏÑú Îπà Í∞íÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏
        const isAnyEmpty = Array.from(inputs).some(input => input.value.trim() === '');

        if (isAnyEmpty) {
            alert('Î™®Îì† Í∞íÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
            return;
        }

        const newProduct = {
            id: products.length+1,
            name: inputs[0].value,
            price: parseInt(inputs[1].value, 10),
            stock: parseInt(inputs[2].value, 10),
            revenue: 0,
        };

        products.push(newProduct);
        console.log('last products', products);

        // ÏûÖÎ†•Ï∞Ω Ï¥àÍ∏∞Ìôî
        inputs.forEach(input => input.value = '');

        renderTable();
        renderPopupTable();
        
    } else {
        alert('Ï†úÌíàÏùÄ ÏµúÎåÄ 5Í∞úÍπåÏßÄÎßå Îì±Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§.\nÍ∏∞Ï°¥ Ï†úÌíàÏùÑ ÏÇ≠Ï†úÌïú ÌõÑ Îì±Î°ùÌï¥Ï£ºÏÑ∏Ïöî.');
        return;
    }

    
}

// 2. Ï†úÌíà Î≥ÄÍ≤Ω ÌåùÏóÖ > ÏÇ≠Ï†ú
function removeProd(target) {
    const tr = target.parentElement.parentElement;
    const tbody = tr.parentElement;

    // Î™á Î≤àÏß∏ trÏù∏ÏßÄ index Íµ¨ÌïòÍ∏∞
    const index = Array.from(tbody.children).indexOf(tr); // ‚Üê Ïù¥Í≤å ÌïµÏã¨!

    // productsÏóêÏÑú Ìï¥Îãπ index Ï†úÍ±∞
    products.splice(index, 1);

    // ÏÉàÎ°ú indexÎ≤àÌò∏ Î∂ÄÏó¨
    products.forEach((item, idx) => {
        item.id = idx + 1;
    });

    // DOMÏóêÏÑú ÏÇ≠Ï†ú
    tr.remove();

    renderTable();
    renderPopupTable();

    console.log('ÏÇ≠Ï†ú ÌõÑ products:', products);
}

// 3. ÏàòÏùµ Î≥¥Í∏∞ ÌåùÏóÖ
function renderRevenue() {
    const popRev = document.querySelector('#rev-box');
    let html = '';
    let totalRevenue = 0; 

    products.forEach((item) => {
        html += `
            <div class="list-item">
                <strong>${item.name}</strong>
                <span>${item.revenue.toLocaleString()}</span>
            </div>
        `;
        totalRevenue += item.revenue;
    });
    popRev.innerHTML = html;

    document.querySelector('#total').innerHTML = `
        <div class="list-item">
            <strong>Ï¥ùÌï©</strong>
            <span>${totalRevenue.toLocaleString()}</span>
        </div>
    `;

    showPop('pop-revenue');   
}
</script>
</html>